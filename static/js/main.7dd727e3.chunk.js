(this["webpackJsonptodolist-02"]=this["webpackJsonptodolist-02"]||[]).push([[0],{14:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(8),n=c.n(a),r=(c(14),c(2)),i=[{text:"\u5065\u8eab \ud83c\udfcb\ufe0f\u200d\u2640\ufe0f",completed:!1,id:1,stars:1},{text:"\u8cb7\u6751\u4e0a\u6625\u6a39\u65b0\u66f8",completed:!1,id:3,stars:1},{text:"\u8cb7\u7d05\u9152\u71c9\u725b\u8089\u98df\u6750",completed:!0,id:5,stars:3},{text:"\u5b78\u7fd2 React",completed:!0,id:6,stars:3},{text:"\u905b\u72d7 \ud83d\udc36",completed:!1,id:7,stars:2}],o=c(9),l=c(6),d=c(0),j=function(e){var t=e.setTodos,c=e.todos,a=e.setStatus,n=e.setStars,i=e.stars,j=e.completedNum,m=Object(s.useState)(""),u=Object(r.a)(m,2),f=u[0],b=u[1],O=Object(s.useState)(!0),p=Object(r.a)(O,2),_=p[0],x=p[1],h=Object(s.useState)(!1),N=Object(r.a)(h,2),v=N[0],S=N[1],g=Object(s.useState)(!1),k=Object(r.a)(g,2),C=k[0],y=k[1],T=function(e){e.preventDefault(),t([].concat(Object(o.a)(c),[{text:f,completed:!1,id:1e3*Math.random(),stars:i}])),b("")},E=Object(s.useRef)();return Object(s.useEffect)((function(){E.current.focus()}),[]),Object(d.jsxs)("div",{className:"form__container",children:[Object(d.jsxs)("form",{className:"form__addbar",onSubmit:T,children:[Object(d.jsx)("div",{className:"form__submit-btn",onClick:T,type:"submit",children:Object(d.jsx)("p",{children:"+"})}),Object(d.jsxs)("div",{className:"form__input-rating",children:[Object(d.jsx)("input",{ref:E,className:"form__input",value:f,onChange:function(e){b(e.target.value)},placeholder:"\u8f38\u5165\u4e8b\u9805",type:"text"}),Object(d.jsx)("div",{className:"form__rating",children:Object(d.jsx)(l.a,{emptySymbol:Object(d.jsx)("i",{className:"form__empty-star far fa-star"}),fullSymbol:Object(d.jsx)("i",{className:"form__full-star fas fa-star"}),quiet:!0,initialRating:1,stop:3,onClick:function(e){n(e)}})})]})]}),Object(d.jsxs)("div",{className:"form__filter",children:[Object(d.jsx)("div",{className:_?"form__filter-all--pressed":"form__filter-all",onClick:function(){a("all"),x(!0),S(!1),y(!1)},children:Object(d.jsxs)("p",{children:["\u5168\u90e8 ",c.length]})}),Object(d.jsx)("div",{className:v?"form__filter-com--pressed":"form__filter-com",onClick:function(){a("completed"),S(!0),x(!1),y(!1)},children:Object(d.jsxs)("p",{children:["\u5df2\u5b8c\u6210 ",j]})}),Object(d.jsx)("div",{className:C?"form__filter-uncom--pressed":"form__filter-uncom",onClick:function(){a("uncompleted"),y(!0),S(!1),x(!1)},children:Object(d.jsxs)("p",{children:["\u672a\u5b8c\u6210 ",c.length-j]})})]})]})},m=c(3),u=function(e){var t=e.todo,c=e.todos,a=e.setTodos,n=e.num,i=e.stars,o=e.setCompletedNum,j=Object(s.useState)(!1),u=Object(r.a)(j,2),f=u[0],b=u[1],O=Object(s.useState)(""),p=Object(r.a)(O,2),_=p[0],x=p[1];Object(s.useEffect)((function(){var e=c.filter((function(e){return!0===e.completed}));o(e.length)}),[c,o]);var h=function(e){a(c.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{text:_}):e}))),b(!1)},N=Object(s.useRef)();return Object(s.useEffect)((function(){f&&N.current.focus()}),[f]),Object(d.jsx)("div",{className:"errand__container",children:f?Object(d.jsxs)("form",{className:"errand__editing",onSubmit:h,children:[Object(d.jsx)("p",{className:t.completed?"errand__completed--num errand__num":"errand__num",children:n+1}),Object(d.jsx)("div",{className:"errand__editing-input",children:Object(d.jsx)("input",{ref:N,type:"text",value:_,placeholder:"\u8f38\u5165\u4fee\u6539\u4e8b\u9805",onChange:function(e){x(e.target.value)}})}),Object(d.jsxs)("div",{className:"errand__editing-btns",children:[Object(d.jsx)("i",{onClick:function(){b(!1)},className:"fas fa-undo"}),Object(d.jsx)("i",{onClick:h,type:"submit",className:"far fa-check-square"})]})]}):Object(d.jsxs)("div",{className:"errand__notediting",children:[Object(d.jsx)("p",{className:t.completed?"errand__completed--num errand__num":"errand__num",children:n+1}),Object(d.jsx)("div",{className:"errand__stars",children:Object(d.jsx)(l.a,{emptySymbol:Object(d.jsx)("i",{className:"far fa-star"}),fullSymbol:Object(d.jsx)("i",{className:"fas fa-star"}),quiet:!0,stop:3,initialRating:i,onClick:function(e){a(c.map((function(c){return c.id===t.id?Object(m.a)(Object(m.a)({},c),{},{stars:e}):c})))}})}),Object(d.jsx)("div",{className:"errand__notediting-content",onClick:function(){a(c.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{completed:!e.completed}):e})))},children:Object(d.jsx)("p",{className:t.completed?"errand__completed--text":"",children:t.text})}),Object(d.jsxs)("div",{className:"errand__notediting-btns",children:[Object(d.jsx)("div",{onClick:function(){b(!f)},children:Object(d.jsx)("i",{className:"far fa-edit"})}),Object(d.jsx)("div",{onClick:function(){a(c.filter((function(e){return e.id!==t.id})))},children:Object(d.jsx)("i",{className:"far fa-trash-alt"})})]})]})})},f=function(e){var t=e.todos,c=e.setTodos,s=e.filteredTodos,a=e.setCompletedNum;return Object(d.jsx)("div",{className:"errandlist__container",children:s.map((function(e,s){return Object(d.jsx)(u,{todo:e,todos:t,setTodos:c,num:s,stars:e.stars,setCompletedNum:a},e.id)}))})},b=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),o=Object(r.a)(n,2),l=o[0],m=o[1],u=Object(s.useState)(""),b=Object(r.a)(u,2),O=b[0],p=b[1],_=Object(s.useState)(1),x=Object(r.a)(_,2),h=x[0],N=x[1],v=Object(s.useState)(0),S=Object(r.a)(v,2),g=S[0],k=S[1],C=Object(s.useState)(!1),y=Object(r.a)(C,2),T=y[0],E=y[1];Object(s.useEffect)((function(){a(i)}),[a]),Object(s.useEffect)((function(){null===localStorage.getItem("todos")?localStorage.setItem("todos",JSON.stringify([])):a(JSON.parse(localStorage.getItem("todos")))}),[]),Object(s.useEffect)((function(){m("completed"===O?c.filter((function(e){return!0===e.completed})):"uncompleted"===O?c.filter((function(e){return!1===e.completed})):c);localStorage.setItem("todos",JSON.stringify(c))}),[O,c]);return Object(d.jsx)("div",{className:"theme "+(T?"theme--dark":"theme--default"),children:Object(d.jsx)("div",{className:"app__background",children:Object(d.jsxs)("div",{className:"app__container",children:[Object(d.jsx)("input",{className:"app__color-switch",onClick:function(){E(!T)},type:"checkbox"}),Object(d.jsx)("h1",{className:"app__header",children:"\u5f85\u8fa6\u4e8b\u9805"}),Object(d.jsx)(j,{setTodos:a,todos:c,setStatus:p,setStars:N,stars:h,completedNum:g}),Object(d.jsx)(f,{todos:c,setTodos:a,filteredTodos:l,stars:h,setCompletedNum:k})]})})})};n.a.render(Object(d.jsx)(b,{}),document.querySelector("#root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.7dd727e3.chunk.js.map