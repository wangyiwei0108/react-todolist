{"version":3,"sources":["components/ExampleData.js","components/Form.js","components/Errand.js","components/ErrandList.js","components/App.js","index.js"],"names":["exampleData","text","completed","id","stars","Form","setTodos","todos","setStatus","setStars","completedNum","useState","input","setInput","pressedBtnAll","setPressedBtnAll","pressedBtnCom","setPressedBtnCom","pressedBtnUncom","setPressedBtnUncom","formHandler","e","preventDefault","Math","random","inputRef","useRef","useEffect","current","focus","className","onSubmit","onClick","type","ref","value","onChange","target","placeholder","emptySymbol","fullSymbol","quiet","initialRating","stop","length","Errand","todo","num","setCompletedNum","editing","setEditing","newText","setNewText","completedTodos","filter","item","confirmHandler","map","ErrandList","filteredTodos","index","App","setFilteredTodos","status","dark","setDark","localStorage","getItem","setItem","JSON","stringify","parse","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.7dd727e3.chunk.js","sourcesContent":["export const exampleData = \n  [\n    {text: \"健身 🏋️‍♀️\", completed: false, id: 1, stars: 1},\n    {text: \"買村上春樹新書\", completed: false, id: 3, stars: 1},\n    {text: \"買紅酒燉牛肉食材\", completed: true, id: 5, stars: 3},\n    {text: \"學習 React\", completed: true, id: 6, stars: 3},\n    {text: \"遛狗 🐶\", completed: false, id: 7, stars: 2}\n  ]","import React, { useState, useRef, useEffect } from 'react';\nimport Rating from 'react-rating';\n\nconst Form = ({setTodos, todos, setStatus, setStars, stars, completedNum}) => {\n\n  const [input, setInput] = useState('')\n  const [pressedBtnAll, setPressedBtnAll] = useState(true);\n  const [pressedBtnCom, setPressedBtnCom] = useState(false);\n  const [pressedBtnUncom, setPressedBtnUncom] = useState(false);\n\n\n  const inputHandler = (e) => {\n    setInput(e.target.value);\n  }\n\n  const formHandler = (e) => {\n    e.preventDefault();\n    setTodos([...todos, {text: input, completed: false, id: Math.random() * 1000, stars: stars}])\n    setInput('');\n  }\n\n  const allHandler = () => {\n    setStatus(\"all\");\n    setPressedBtnAll(true);\n    setPressedBtnCom(false);\n    setPressedBtnUncom(false);\n  }\n\n  const completedHandler = () => {\n    setStatus(\"completed\");\n    setPressedBtnCom(true);\n    setPressedBtnAll(false);\n    setPressedBtnUncom(false);\n  }\n\n  const uncompletedHandler = () => {\n    setStatus(\"uncompleted\");\n    setPressedBtnUncom(true);\n    setPressedBtnCom(false);\n    setPressedBtnAll(false);\n  }\n\n  const starHandler = (value) => {\n    setStars(value);\n  }\n\n  const inputRef = useRef();\n\n  useEffect(() => {\n    const clickHandler = () => {\n      inputRef.current.focus()\n    }\n      clickHandler()\n  }, [])\n\n  return(\n    <div className=\"form__container\">\n      <form className=\"form__addbar\" onSubmit={formHandler}>\n        <div className=\"form__submit-btn\" onClick={formHandler} type=\"submit\">\n          <p>&#43;</p>\n        </div>\n        <div className=\"form__input-rating\">\n          <input ref={inputRef} className=\"form__input\" \n              value={input}\n              onChange={inputHandler}\n              placeholder=\"輸入事項\"\n              type=\"text\">\n          </input>\n          <div className=\"form__rating\">\n            <Rating\n              emptySymbol={<i className=\"form__empty-star far fa-star\"></i>}\n              fullSymbol={<i className=\"form__full-star fas fa-star\"></i>}\n              quiet={true}\n              initialRating={1}\n              stop={3}\n              onClick={starHandler} />\n          </div>\n        </div>\n      </form>\n      <div className=\"form__filter\">\n        <div className={pressedBtnAll?\"form__filter-all--pressed\": \"form__filter-all\"} onClick={allHandler}>\n          <p>全部 {todos.length}</p>\n        </div>\n        <div className={pressedBtnCom?\"form__filter-com--pressed\": \"form__filter-com\"} onClick={completedHandler}>\n          <p>已完成 {completedNum}</p>\n        </div>\n        <div className={pressedBtnUncom?\"form__filter-uncom--pressed\": \"form__filter-uncom\"} onClick={uncompletedHandler}>\n          <p>未完成 {todos.length - completedNum}</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Form;","import React, {useState, useEffect, useRef} from 'react';\nimport Rating from 'react-rating';\n\nconst Errand = ({todo, todos, setTodos, num, stars, setCompletedNum}) => {\n\n  const [editing, setEditing] = useState(false);\n  const [newText, setNewText] = useState('');\n\n  // 計算已完成 errand 的數量\n  useEffect(() => {\n    const completedTodos = todos.filter(item => {\n      return item.completed === true;\n    })\n    setCompletedNum(completedTodos.length);\n  }, [todos, setCompletedNum])\n\n  // 標註 errand 已完成\n  const doneHandler = () => {\n    setTodos(todos.map(item => {\n      if(item.id === todo.id) {\n        return {\n          ...item, completed: !item.completed\n        }\n      }\n      return item\n    }))\n  }\n\n  // 刪除：errand\n  const removeHandler = () => {\n    setTodos(todos.filter(item => item.id !== todo.id))\n  }\n\n  // 編輯：errand 狀態\n  const editHandler = () => {\n    setEditing(!editing);\n  }\n\n  // 編輯：errand 內容\n  const newInputHandler = (e) => {\n    setNewText(e.target.value);\n  }\n\n  // 編輯：errand 內容確定發送\n  const confirmHandler = (e) => {\n    setTodos(\n      todos.map((item) => {\n        if(item.id === todo.id) {\n          return {\n            ...item, text: newText\n          }\n        }\n        return item\n      })\n    )\n    setEditing(false);\n  }\n\n  // 編輯：errand 取消編輯\n  const cancleHandler = () => {\n    setEditing(false);\n  }\n\n  // 編輯：星星數量\n  const starHandler = (value) => {\n    setTodos(\n      todos.map((item) => {\n        if(item.id === todo.id) {\n          return {\n            ...item, stars: value\n          }\n        }\n        return item\n      })\n    )\n  }\n\n  // 當是正在編輯中的狀態時，促發按下 input tag 讓 input 是閃爍顯示\n  const inputRef = useRef();\n\n  useEffect(() => {\n    const clickHandler = () => {\n      inputRef.current.focus()\n    }\n    if(editing){\n      clickHandler()\n    }\n  }, [editing])\n\n  return(\n    <div className=\"errand__container\">\n      {editing\n      ? // 在編輯中\n        \n        <form className=\"errand__editing\" onSubmit={confirmHandler}>\n          <p className={todo.completed? \"errand__completed--num errand__num\" : \"errand__num\"}>{num + 1}</p>\n          <div className=\"errand__editing-input\">\n            <input ref={inputRef} type=\"text\" value={newText} placeholder=\"輸入修改事項\" onChange={newInputHandler}></input>\n          </div>\n          <div className=\"errand__editing-btns\">\n            <i onClick={cancleHandler} className=\"fas fa-undo\"></i>\n            <i onClick={confirmHandler} type=\"submit\" className=\"far fa-check-square\"></i>\n          </div>\n        </form>\n\n      :  // 沒有在編輯\n      \n        <div className=\"errand__notediting\">\n          <p className={todo.completed? \"errand__completed--num errand__num\" : \"errand__num\"}>{num + 1}</p>\n          <div className=\"errand__stars\">\n          <Rating\n              emptySymbol={<i className=\"far fa-star\"></i>}\n              fullSymbol={<i className=\"fas fa-star\"></i>}\n              quiet={true}\n              stop={3}\n              initialRating={stars}\n              onClick={starHandler}/>\n          </div>\n          <div className=\"errand__notediting-content\" onClick={doneHandler}>\n            <p className={todo.completed? \"errand__completed--text\" : \"\"}>{todo.text}</p>\n          </div>\n          <div className=\"errand__notediting-btns\">\n            <div onClick={editHandler}>\n              <i className=\"far fa-edit\"></i>\n            </div>\n            <div onClick={removeHandler}>\n              <i className=\"far fa-trash-alt\"></i>\n            </div>\n          </div>\n      </div>\n      }\n    </div>\n  )\n}\n\nexport default Errand;","import React from 'react';\nimport Errand from './Errand';\n\nconst ErrandList = ({todos, setTodos, filteredTodos, setCompletedNum}) => {\n\n  return (\n    <div className=\"errandlist__container\">\n      {filteredTodos.map((todo, index) => \n        <Errand\n          key={todo.id}\n          todo={todo}\n          todos={todos}\n          setTodos={setTodos}\n          num={index}\n          stars={todo.stars}\n          setCompletedNum={setCompletedNum}/>\n      )}\n    </div>\n  )\n} \n\nexport default ErrandList;","import React, {useState, useEffect} from 'react';\nimport { exampleData } from './ExampleData';\nimport Form from './Form';\nimport ErrandList from './ErrandList';\n\nconst App = () => {\n\n  const [todos, setTodos] = useState([]);\n  const [filteredTodos, setFilteredTodos] = useState([]);\n  const [status, setStatus] = useState('');\n  const [stars, setStars] = useState(1);\n  const [completedNum, setCompletedNum] = useState(0);\n  const [dark, setDark] = useState(false);\n\n  // 最一開始預先設定範例資料\n  useEffect(()=> {\n    setTodos(exampleData);\n  }, [setTodos])\n\n  useEffect(() => {\n    if (localStorage.getItem(\"todos\") === null) {\n      localStorage.setItem(\"todos\", JSON.stringify([]));\n    } else {\n      setTodos(JSON.parse(localStorage.getItem(\"todos\")));\n    }\n  }, [])\n\n  useEffect(() => {\n    const filter = () => {\n      if(status === 'completed') {\n        setFilteredTodos(todos.filter(item => item.completed === true))\n      } else if(status === 'uncompleted') {\n        setFilteredTodos(todos.filter(item => item.completed === false))\n      } else {\n        setFilteredTodos(todos)\n      }\n    }\n    filter();\n\n    const saveLocal = () => {\n      localStorage.setItem(\"todos\", JSON.stringify(todos))\n    }\n    saveLocal();\n  }, [status, todos])\n\n  // 黑暗模式開關\n  const themeHandler = () => {\n    setDark(!dark);\n  }\n\n  return(\n    <div className={'theme ' + (dark ? 'theme--dark' : 'theme--default')}>\n      <div className=\"app__background\">\n        <div className=\"app__container\">\n          <input className=\"app__color-switch\" onClick={themeHandler} type=\"checkbox\"/>\n          <h1 className=\"app__header\">待辦事項</h1>\n          <Form setTodos={setTodos} todos={todos} setStatus={setStatus} setStars={setStars} stars={stars} completedNum={completedNum}/>\n          <ErrandList todos={todos} setTodos={setTodos} filteredTodos={filteredTodos} stars={stars} setCompletedNum={setCompletedNum}/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <App/>,\n  document.querySelector('#root')\n)"],"sourceRoot":""}