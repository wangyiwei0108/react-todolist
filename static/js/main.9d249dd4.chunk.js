(this["webpackJsonptodolist-02"]=this["webpackJsonptodolist-02"]||[]).push([[0],{14:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s(8),i=s.n(n),r=(s(14),s(2)),a=[{text:"\u5065\u8eab \ud83c\udfcb\ufe0f\u200d\u2640\ufe0f",completed:!1,id:1,stars:1},{text:"\u4f5c\u54c1\u96c6\u66f4\u65b0",completed:!0,id:2,stars:2},{text:"\u8cb7\u6751\u4e0a\u6625\u6a39\u65b0\u66f8",completed:!1,id:3,stars:1},{text:"\u77ad\u89e3 JQBX \u600e\u9ebc\u7528",completed:!0,id:4,stars:1},{text:"\u8cb7\u7d05\u9152\u71c9\u725b\u8089\u98df\u6750",completed:!0,id:5,stars:3},{text:"\u5b78\u7fd2 React",completed:!1,id:6,stars:3},{text:"\u905b\u72d7 \ud83d\udc36",completed:!1,id:7,stars:2}],o=s(9),l=s(6),d=s(0),j=function(e){var t=e.setTodos,s=e.todos,n=e.setStatus,i=e.setStars,a=e.stars,j=e.completedNum,m=Object(c.useState)(""),u=Object(r.a)(m,2),b=u[0],O=u[1],p=Object(c.useState)(!0),f=Object(r.a)(p,2),x=f[0],_=f[1],h=Object(c.useState)(!1),v=Object(r.a)(h,2),g=v[0],N=v[1],S=Object(c.useState)(!1),k=Object(r.a)(S,2),C=k[0],y=k[1],H=function(e){e.preventDefault(),t([].concat(Object(o.a)(s),[{text:b,completed:!1,id:1e3*Math.random(),stars:a}])),O("")};return Object(d.jsxs)("div",{className:"form__container",children:[Object(d.jsxs)("form",{className:"form__addbar",onSubmit:H,children:[Object(d.jsxs)("div",{className:"form__input-rating",children:[Object(d.jsx)("input",{className:"form__input",value:b,onChange:function(e){O(e.target.value)},placeholder:"\u8f38\u5165\u4e8b\u9805",type:"text"}),Object(d.jsx)("div",{className:"form__rating",children:Object(d.jsx)(l.a,{emptySymbol:Object(d.jsx)("svg",{children:Object(d.jsx)("use",{xlinkHref:"images/sprite.svg#icon-star-outlined"})}),fullSymbol:Object(d.jsx)("svg",{children:Object(d.jsx)("use",{xlinkHref:"images/sprite.svg#icon-star"})}),quiet:!0,initialRating:1,stop:3,onClick:function(e){i(e)}})})]}),Object(d.jsx)("div",{className:"form__submit-btn",onClick:H,type:"submit",children:Object(d.jsx)("p",{children:"+"})})]}),Object(d.jsxs)("div",{className:"form__filter",children:[Object(d.jsx)("div",{className:x?"form__filter-all--pressed":"form__filter-all",onClick:function(){n("all"),_(!0),N(!1),y(!1)},children:Object(d.jsxs)("p",{children:["\u5168\u90e8 ",s.length]})}),Object(d.jsx)("div",{className:g?"form__filter-com--pressed":"form__filter-com",onClick:function(){n("completed"),N(!0),_(!1),y(!1)},children:Object(d.jsxs)("p",{children:["\u5df2\u5b8c\u6210 ",j]})}),Object(d.jsx)("div",{className:C?"form__filter-uncom--pressed":"form__filter-uncom",onClick:function(){n("uncompleted"),y(!0),N(!1),_(!1)},children:Object(d.jsxs)("p",{children:["\u672a\u5b8c\u6210 ",s.length-j]})})]})]})},m=s(3),u=function(e){var t=e.todo,s=e.todos,n=e.setTodos,i=e.num,a=e.stars,o=e.setCompletedNum,j=Object(c.useState)(!1),u=Object(r.a)(j,2),b=u[0],O=u[1],p=Object(c.useState)(""),f=Object(r.a)(p,2),x=f[0],_=f[1];Object(c.useEffect)((function(){var e=s.filter((function(e){return!0===e.completed}));o(e.length)}),[s,o]);var h=function(e){n(s.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{text:x}):e}))),O(!1)};return Object(d.jsx)("div",{className:"errand__container",children:b?Object(d.jsxs)("form",{className:"errand__editing",onSubmit:h,children:[Object(d.jsx)("p",{className:t.completed?"errand__completed--num errand__num":"errand__num",children:i+1}),Object(d.jsx)("div",{className:"errand__editing-input",children:Object(d.jsx)("input",{onDoubleClick:h,type:"text",value:x,placeholder:t.text,onChange:function(e){_(e.target.value)}})}),Object(d.jsxs)("div",{className:"errand__editing-btns",children:[Object(d.jsx)("div",{onClick:h,type:"submit",children:Object(d.jsx)("svg",{children:Object(d.jsx)("use",{xlinkHref:"images/sprite.svg#icon-check"})})}),Object(d.jsx)("div",{onClick:function(){O(!1)},children:Object(d.jsx)("svg",{children:Object(d.jsx)("use",{xlinkHref:"images/sprite.svg#icon-cross"})})})]})]}):Object(d.jsxs)("div",{className:"errand__notediting",children:[Object(d.jsx)("div",{className:"errand__stars",children:Object(d.jsx)(l.a,{emptySymbol:Object(d.jsx)("svg",{children:Object(d.jsx)("use",{xlinkHref:"images/sprite.svg#icon-star-outlined"})}),fullSymbol:Object(d.jsx)("svg",{children:Object(d.jsx)("use",{xlinkHref:"images/sprite.svg#icon-star"})}),quiet:!0,stop:3,initialRating:a,onClick:function(e){n(s.map((function(s){return s.id===t.id?Object(m.a)(Object(m.a)({},s),{},{stars:e}):s})))}})}),Object(d.jsxs)("div",{className:"errand__notediting-content",onClick:function(){n(s.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{completed:!e.completed}):e})))},children:[Object(d.jsx)("p",{className:t.completed?"errand__completed--num errand__num":"errand__num",children:i+1}),Object(d.jsx)("p",{className:t.completed?"errand__completed--text":"",children:t.text})]}),Object(d.jsxs)("div",{className:"errand__notediting-btns",children:[Object(d.jsx)("div",{onClick:function(){O(!b)},children:Object(d.jsx)("svg",{children:Object(d.jsx)("use",{xlinkHref:"images/sprite.svg#icon-pencil"})})}),Object(d.jsx)("div",{onClick:function(){n(s.filter((function(e){return e.id!==t.id})))},children:Object(d.jsx)("svg",{children:Object(d.jsx)("use",{xlinkHref:"images/sprite.svg#icon-cup"})})})]})]})})},b=function(e){var t=e.todos,s=e.setTodos,c=e.filteredTodos,n=e.setCompletedNum;return Object(d.jsx)("div",{className:"errandlist__container",children:c.map((function(e,c){return Object(d.jsx)(u,{todo:e,todos:t,setTodos:s,num:c,stars:e.stars,setCompletedNum:n},e.id)}))})},O=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),s=t[0],n=t[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),l=o[0],m=o[1],u=Object(c.useState)(""),O=Object(r.a)(u,2),p=O[0],f=O[1],x=Object(c.useState)(1),_=Object(r.a)(x,2),h=_[0],v=_[1],g=Object(c.useState)(0),N=Object(r.a)(g,2),S=N[0],k=N[1],C=Object(c.useState)(!1),y=Object(r.a)(C,2),H=y[0],T=y[1];Object(c.useEffect)((function(){n(a)}),[n]),Object(c.useEffect)((function(){null===localStorage.getItem("todos")?localStorage.setItem("todos",JSON.stringify([])):n(JSON.parse(localStorage.getItem("todos")))}),[]),Object(c.useEffect)((function(){m("completed"===p?s.filter((function(e){return!0===e.completed})):"uncompleted"===p?s.filter((function(e){return!1===e.completed})):s);localStorage.setItem("todos",JSON.stringify(s))}),[p,s]);return Object(d.jsx)("div",{className:"theme "+(H?"theme--dark":"theme--default"),children:Object(d.jsx)("div",{className:"app__background",children:Object(d.jsxs)("div",{className:"app__container",children:[Object(d.jsx)("input",{className:"app__color-switch",onClick:function(){T(!H)},type:"checkbox"}),Object(d.jsx)("h1",{className:"app__header",children:"\u5f85\u8fa6\u4e8b\u9805"}),Object(d.jsx)(j,{setTodos:n,todos:s,setStatus:f,setStars:v,stars:h,completedNum:S}),Object(d.jsx)(b,{todos:s,setTodos:n,filteredTodos:l,stars:h,setCompletedNum:k})]})})})};i.a.render(Object(d.jsx)(O,{}),document.querySelector("#root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.9d249dd4.chunk.js.map